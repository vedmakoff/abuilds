# ABUILD generated by mkpkg_generator.sh

pkgname=cairo
pkgver=1.12.14
pkgbuild=1
arch=('auto')

shortdesc=('cairo (graphics library used by GTK+)')
longdesc=('Cairo is a vector graphics library designed to provide high-quality display and print output. Cairo is designed to produce identical output on all output media while taking advantage of display hardware acceleration when available (eg. through the X Render Extension or OpenGL).')

tags=('libs x11-libs')

source=("http://cairographics.org/releases/cairo-${pkgver}.tar.xz")

# Changelogs are 6mb big, so let's disable doc copying.
custom_opts="no_copydoc"


build_deps="libpng libXrender libXext fontconfig pixman glib2 mesa libgl lzo glib2"


before_build() {
	go_src_dir
	 export ax_cv_c_float_words_bigendian=no
}

# You can try to enable it, but I failed to build with this.
#INSANE_OPTIONS="--enable-drm \
#	--enable-script \
#	--enable-xcb-drm"

BUILD_SYSTEM='autotools'
BUILD_KEYS="--prefix=/usr \
	--libdir=/usr/lib$LIBDIRSUFFIX \
	--enable-xcb \
	--sysconfdir=/etc \
	--mandir=/usr/man \
	--localstatedir=/var \
	--disable-static \
	--enable-tee \
	--enable-svg \
	--enable-ps \
	--enable-pdf \
	--enable-gobject \
	--disable-xcb-xlib \
	--docdir=/usr/doc \
	--enable-gl \
	--enable-egl \
	$INSANE_OPTIONS"

INSTALL_KEYS="DESTDIR=$pkgdir"

